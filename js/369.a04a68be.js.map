{"version":3,"file":"js/369.a04a68be.js","mappings":"wJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,UAAU,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,IAAI,OAAOD,YAAY,gBAAgBE,MAAM,CAAC,MAAQN,EAAIO,KAAK,cAAc,GAAG,MAAQP,EAAIQ,MAAM,cAAc,UAAU,CAACN,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAIS,GAAG,UAAUP,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,UAAUI,MAAM,CAACC,MAAOX,EAAIO,KAAKK,SAAUC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIO,KAAM,WAAYO,EAAI,EAAEE,WAAW,oBAAoB,GAAGd,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,QAAQ,gBAAgB,IAAII,MAAM,CAACC,MAAOX,EAAIO,KAAKU,SAAUJ,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIO,KAAM,WAAYO,EAAI,EAAEE,WAAW,oBAAoB,GAAGd,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,UAAU,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,WAAW,OAAO,IAAI,CAACpB,EAAIS,GAAG,QAAQP,EAAG,YAAY,CAACgB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIqB,UAAU,OAAO,IAAI,CAACrB,EAAIS,GAAG,SAAS,IAAI,IAAI,IAAI,EACnkC,EACIa,EAAkB,G,sCCwBtB,GACAC,IAAAA,GACA,OAEAhB,KAAA,CACAK,SAAA,GACAK,SAAA,IAGAT,MAAA,CACAI,SAAA,CACA,CACAY,UAAA,EACAC,QAAA,OACAC,QAAA,WAGAT,SAAA,CACA,CACAO,UAAA,EACAC,QAAA,OACAC,QAAA,WAKA,EACAC,QAAA,CACAP,UAAAA,CAAAb,GAkBA,KAAAqB,MAAArB,GAAAsB,UAAAC,IACA,IAAAA,EAuBA,OADAC,QAAAC,IAAA,mBACA,GApBAC,EAAAA,EAAAA,IAAA,KAAA1B,MAAA2B,MAAA,EAAAX,WACAQ,QAAAC,IAAAT,GAEA,MAAAA,EAAAY,MAEAC,EAAAA,EAAAC,IAAA,QAAAd,EAAAA,KAAAe,OAEA,KAAAC,OAAAC,OAAA,UAAAjB,EAAAA,KAAAkB,MAEA,KAAAF,OAAAC,OAAA,eAAAE,SAEA,KAAAA,QAAAC,KAAA,UAEA,KAAAC,SAAAC,MAAAtB,EAAAA,KAAAG,QACA,GAOA,GAEA,EACAL,SAAAA,CAAAd,GACA,KAAAqB,MAAArB,GAAAuC,aACA,ICtGoP,I,UCQhPC,GAAY,OACd,EACAhD,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAeyB,EAAiB,O","sources":["webpack://my-app/./src/views/Login.vue","webpack://my-app/src/views/Login.vue","webpack://my-app/./src/views/Login.vue?3cb7","webpack://my-app/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-box\"},[_c('el-card',{staticClass:\"box-card\"},[_c('el-form',{ref:\"form\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.form,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('h3',{staticClass:\"login-title\"},[_vm._v(\"系统登入\")]),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"size\":\"large\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"登录\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('form')}}},[_vm._v(\"取消\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <!-- <h1>我是登录页</h1> -->\r\n    <div class=\"login-box\">\r\n        <el-card class=\"box-card\">\r\n            <el-form class=\"demo-ruleForm\" ref=\"form\" :model=\"form\" status-icon :rules=\"rules\" label-width=\"100px\">\r\n                <h3 class=\"login-title\">系统登入</h3>\r\n                <el-form-item label=\"用户名\" prop=\"username\">\r\n                    <el-input v-model=\"form.username\" placeholder=\"请输入用户名\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"form.password\" placeholder=\"请输入密码\" show-password></el-input>\r\n                </el-form-item>\r\n                <el-form-item size=\"large\">\r\n                    <el-button type=\"primary\" @click=\"submitForm('form')\">登录</el-button>\r\n                    <el-button @click=\"resetForm('form')\">取消</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // <!-- 通过mock进行数据模拟 -->\r\n    import Mock from 'mockjs'\r\n    import Cookie from 'js-cookie'\r\n    import { getMenu } from '../api'\r\n    export default {\r\n        data() {\r\n            return {\r\n                // 表单数据\r\n                form: {\r\n                    username: '',\r\n                    password: '',\r\n                },\r\n                // 表单校验规则\r\n                rules: {\r\n                    username: [\r\n                        {\r\n                            required: true,\r\n                            trigger: 'blur',\r\n                            message: '请输入用户名'\r\n                        }\r\n                    ],\r\n                    password: [\r\n                        {\r\n                            required: true,\r\n                            trigger: 'blur',\r\n                            message: '请输入密码'\r\n                        }\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            submitForm(form) {\r\n                // this.$refs[form].validate((valid)=>{\r\n                //     if(valid){\r\n                //         alert('submit!')\r\n                //     }\r\n                //     else\r\n                //     {\r\n                //         console.log('error submit!!')\r\n                //         return false\r\n                //     }\r\n                // })\r\n                // token信息\r\n                //    const token= Mock.Random.guid()\r\n                //     Cookie.set('token',token)\r\n                //     // 跳转到首页\r\n                //     this.$router.push('/home')\r\n\r\n                // 校验通过后\r\n                this.$refs[form].validate((valid) => {\r\n                    if (valid) {\r\n                        // alert('submit!')\r\n                        // 解构数据\r\n                        getMenu(this.form).then(({ data }) => {\r\n                            console.log(data)\r\n                            // 判定，code\r\n                            if (data.code === 2000) {\r\n                                // 将token数据存入cookies\r\n                                Cookie.set('token', data.data.token)\r\n                                // 获取菜单数据，存入store中//    data.data.menu\r\n                                this.$store.commit('setMenu', data.data.menu)\r\n                                // 将当前的router实例传入store中\r\n                                this.$store.commit('addMenu', this.$router)\r\n                                // 页面跳转到home\r\n                                this.$router.push('/home')\r\n                            } else {\r\n                                this.$message.error(data.data.message)\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    else {\r\n                        console.log('error submit!!')\r\n                        return false\r\n                    }\r\n                })\r\n            },\r\n            resetForm(form) {\r\n                this.$refs[form].resetFields()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .el-card {\r\n        border-radius: 20px;\r\n        /* margin: 180px auto; */\r\n    }\r\n\r\n    /* .el-form-item__label{\r\n        padding-right: 34px;\r\n\r\n    } */\r\n    .el-form-item__label {\r\n        /* padding:0 30px 0 0; */\r\n        padding: 0 30px 0 0;\r\n\r\n    }\r\n\r\n\r\n    .login-title {\r\n        text-align: center;\r\n        margin-bottom: 30px;\r\n    }\r\n\r\n    .box-card {\r\n        width: 350px;\r\n        position: relative;\r\n        left: 30%;\r\n        top: 35%;\r\n\r\n    }\r\n\r\n    .login-box {\r\n        background-image: url('@/assets/images/background.png');\r\n        height: 100vh;\r\n        min-height: 550px;\r\n        background-size: cover;\r\n\r\n    }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4716c8c0&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4716c8c0&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4716c8c0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","form","rules","_v","model","value","username","callback","$$v","$set","expression","password","on","$event","submitForm","resetForm","staticRenderFns","data","required","trigger","message","methods","$refs","validate","valid","console","log","getMenu","then","code","Cookie","set","token","$store","commit","menu","$router","push","$message","error","resetFields","component"],"sourceRoot":""}